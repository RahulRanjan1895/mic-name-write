<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Ultimate Magical Notebook</title>
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#000000" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Lobster&family=Monsieur+La+Doulaise&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet" />

    <style>
        html,
        body {
            margin: 0;
            height: 100%;
            background: #000;
            overflow: hidden;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .page {
            width: 100%;
            max-width: 700px;
            height: 100%;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
        }

        #text {
            font-family: "Lobster", "Monsieur La Doulaise", cursive;
            font-size: 5rem;
            /* Match font size from key7.html */
            color: white;
            white-space: pre-wrap;
            word-break: break-word;
            text-align: center;
            line-height: 1.2;
            position: relative;
            z-index: 2;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.7);
        }

        #text span {
            display: inline-block;
            animation: rainbow 3s linear infinite;
        }

        .cursor {
            display: inline-block;
            width: 5px;
            background: #fff;
            animation: blink 1s infinite;
            vertical-align: bottom;
            margin-left: 2px;
        }

        @keyframes blink {
            50% {
                opacity: 0;
            }
        }

        .glow {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle,
                    rgba(157, 13, 13, 0.3) 0%,
                    transparent 70%);
            filter: blur(50px);
            animation: glowpulse 2s infinite alternate;
            z-index: 1;
        }

        @keyframes glowpulse {
            0% {
                transform: scale(1);
                opacity: 0.6;
            }

            100% {
                transform: scale(1.1);
                opacity: 1;
            }
        }

        .particle {
            position: absolute;
            pointer-events: none;
            border-radius: 50%;
            z-index: 0;
        }

        .dot {
            width: 8px;
            height: 8px;
            animation: float 2s linear infinite;
        }

        .star {
            width: 14px;
            height: 14px;

            background: radial-gradient(circle, #fff, transparent);

            clip-path: polygon(50% 0%,
                    61% 35%,
                    98% 35%,
                    68% 57%,
                    79% 91%,
                    50% 70%,
                    21% 91%,
                    32% 57%,
                    2% 35%,
                    39% 35%);

            animation:
                hyperBounce 0.9s cubic-bezier(0.36, 0.07, 0.19, 0.97) infinite,
                starColorShift 1.5s linear infinite;

            box-shadow:
                0 0 8px currentColor,
                0 0 16px currentColor,
                0 0 30px currentColor;
        }

        @keyframes hyperBounce {
            0% {
                transform: translateY(0) scale(1);
            }

            20% {
                transform: translateY(-70px) scale(1.4);
            }

            40% {
                transform: translateY(0) scale(1);
            }

            60% {
                transform: translateY(-50px) scale(1.3);
            }

            80% {
                transform: translateY(0) scale(1);
            }

            100% {
                transform: translateY(-30px) scale(1.2);
            }
        }

        /* LOTS OF COLORS SHIFTING */
        @keyframes starColorShift {
            0% {
                color: red;
            }

            14% {
                color: orange;
            }

            28% {
                color: yellow;
            }

            42% {
                color: lime;
            }

            56% {
                color: cyan;
            }

            70% {
                color: blue;
            }

            84% {
                color: magenta;
            }

            100% {
                color: red;
            }
        }

        .heart {
            width: 12px;
            height: 12px;
            background: red;
            clip-path: polygon(50% 0%,
                    61% 35%,
                    98% 35%,
                    68% 57%,
                    79% 91%,
                    50% 70%,
                    21% 91%,
                    32% 57%,
                    2% 35%,
                    39% 35%);
            animation: bounce 3s ease-in-out infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.8;
            }

            50% {
                transform: translateY(-50px) scale(1.3);
                opacity: 0.5;
            }

            100% {
                transform: translateY(0) scale(1);
                opacity: 0.8;
            }
        }

        @keyframes bounce {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.9;
            }

            25% {
                transform: translateY(-30px) scale(1.3);
                opacity: 1;
            }

            50% {
                transform: translateY(0) scale(1);
                opacity: 0.9;
            }

            75% {
                transform: translateY(-20px) scale(1.2);
                opacity: 1;
            }

            100% {
                transform: translateY(0) scale(1);
                opacity: 0.9;
            }
        }

        .sparkle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            opacity: 1;
            animation: sparkle-fall 1s forwards;
        }

        @keyframes sparkle-fall {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }

            50% {
                transform: translate(calc(-10px+20px * var(--randx)), 20px) scale(0.8);
                opacity: 0.8;
            }

            100% {
                transform: translate(calc(-20px+40px * var(--randx)), 60px) scale(0);
                opacity: 0;
            }
        }

        .letter-pop {
            animation:
                pop 0.3s ease forwards,
                rainbow 3s linear infinite;
        }

        @keyframes pop {
            0% {
                transform: scale(0.3) rotate(-10deg);
                opacity: 0;
            }

            50% {
                transform: scale(1.2) rotate(5deg);
                opacity: 1;
            }

            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        @keyframes rainbow {
            0% {
                color: red;
            }

            16% {
                color: orange;
            }

            33% {
                color: yellow;
            }

            50% {
                color: green;
            }

            66% {
                color: blue;
            }

            83% {
                color: indigo;
            }

            100% {
                color: violet;
            }
        }

        .hint {
            position: absolute;
            bottom: 10px;
            font-size: 14px;
            font-family: "Open Sans", sans-serif;
            color: #fff;
            opacity: 0.6;
        }

        .keyboard {
            position: absolute;
            bottom: 40px;
            width: 100%;
            display: flex;
            justify-content: center;
            background: transparent;
            z-index: 5;
        }

        #voiceBtn {
            width: 90px;
            height: 90px;
            font-size: 40px;
            border-radius: 50%;
            border: none;
            background: #222;
            color: white;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            transition: 0.2s;
        }

        #voiceBtn:hover {
            background: red;
            transform: scale(1.1);
        }
    </style>
</head>

<body>
    <div class="page" id="page">
        <div class="glow"></div>

        <div id="text"></div>
        <span class="cursor"></span>
        <div class="hint"></div>
        <div class="keyboard" id="keyboard">
            <button id="voiceBtn">ðŸŽ¤</button>
        </div>
        <div style="
          position: absolute;
          top: 10px;
          width: 100%;
          text-align: center;
          font-size: 16px;
          color: white;
          z-index: 4;
        ">
            Subscribe
            <span style="
            font-weight: bold;
            color: rgb(24, 27, 25);
            font-size: 35px;
            margin-top: 80px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            text-decoration: underline;
          ">@Unstoppablessss</span>
        </div>

        <div style="
          position: absolute;
          bottom: 140px; /* Adjust this value to place it just above the keyboard */
          width: 100%;
          text-align: center;
          font-size: 16px;
          color: white;
          z-index: 4;
        ">
            <h3>Comment your name down below!</h3>
            <h3>à¤¨à¥€à¤šà¥‡ à¤…à¤ªà¤¨à¤¾ à¤¨à¤¾à¤® à¤•à¤®à¥‡à¤‚à¤Ÿ à¤•à¤°à¥‡à¤‚!</h3>
        </div>
    </div>

    <script>
        const page = document.getElementById("page");
        const textEl = document.getElementById("text");
        const cursor = document.querySelector(".cursor");
        const keyboard = document.getElementById("keyboard");
        // TRUE ANDROID FULLSCREEN â€“ MUST BE USER-INITIATED
        const fsTarget = document.getElementById("page");

        function goFullscreen() {
            if (document.fullscreenElement) return;

            if (fsTarget.requestFullscreen) {
                fsTarget.requestFullscreen();
            } else if (fsTarget.webkitRequestFullscreen) {
                fsTarget.webkitRequestFullscreen();
            } else if (fsTarget.msRequestFullscreen) {
                fsTarget.msRequestFullscreen();
            }
        }

        // Android Chrome accepts click better than touchstart
        fsTarget.addEventListener("click", goFullscreen, { once: true });
        // Backgrounds
        const backgrounds = [
            /* ðŸŒŒ SPACE / GALAXY */
            "linear-gradient(135deg,#0f0c29,#302b63,#24243e)",
            "linear-gradient(135deg,#141e30,#243b55,#141e30)",
            "linear-gradient(135deg,#000428,#004e92,#000428)",
            "linear-gradient(135deg,#200122,#6f0000,#200122)",
            "linear-gradient(135deg,#0b132b,#1c2541,#3a506b)",

            /* ðŸ”¥ FIRE */
            "linear-gradient(135deg,#ff0000,#ff7300,#ff0000)",
            "linear-gradient(135deg,#ff512f,#dd2476,#ff512f)",
            "linear-gradient(135deg,#8e0e00,#1f1c18,#8e0e00)",

            /* ðŸŒˆ RAINBOW */
            "linear-gradient(135deg,red,orange,yellow,green,cyan,blue,violet)",
            "linear-gradient(135deg,#ff00cc,#333399,#ff00cc)",
            "linear-gradient(135deg,#00c6ff,#0072ff,#00c6ff)",

            /* â„ï¸ ICE / BLUE */
            "linear-gradient(135deg,#83a4d4,#b6fbff,#83a4d4)",
            "linear-gradient(135deg,#2193b0,#6dd5ed,#2193b0)",
            "linear-gradient(135deg,#2c3e50,#4ca1af,#2c3e50)",

            /* ðŸŒ… SUNSET */
            "linear-gradient(135deg,#ff7e5f,#feb47b,#ff7e5f)",
            "linear-gradient(135deg,#ee0979,#ff6a00,#ee0979)",
            "linear-gradient(135deg,#f7971e,#ffd200,#f7971e)",

            /* ðŸ’œ PURPLE MAGIC */
            "linear-gradient(135deg,#42275a,#734b6d,#42275a)",
            "linear-gradient(135deg,#654ea3,#eaafc8,#654ea3)",
            "linear-gradient(135deg,#c471f5,#fa71cd,#c471f5)",

            /* ðŸŒ¿ NEON GREEN */
            "linear-gradient(135deg,#11998e,#38ef7d,#11998e)",
            "linear-gradient(135deg,#00b09b,#96c93d,#00b09b)",

            /* ðŸ–¤ DARK CYBER */
            "linear-gradient(135deg,#232526,#414345,#232526)",
            "linear-gradient(135deg,#0f2027,#2c5364,#0f2027)",
            "linear-gradient(135deg,#000000,#434343,#000000)",

            /* ðŸŒŒ ULTRA MAGIC */
            "linear-gradient(135deg,#fc00ff,#00dbde,#fc00ff)",
            "linear-gradient(135deg,#f953c6,#b91d73,#f953c6)",
            "linear-gradient(135deg,#43cea2,#185a9d,#43cea2)",
        ];
        let bgIndex = 0;
        page.style.background = backgrounds[bgIndex];
        setInterval(() => {
            bgIndex = (bgIndex + 1) % backgrounds.length;
            page.style.background = backgrounds[bgIndex];
        }, 10000);

        // Particles
        let particles = [];
        function createParticles() {
            particles.forEach((p) => page.removeChild(p));
            particles = [];
            for (let i = 0; i < 50; i++) {
                const dot = document.createElement("div");
                dot.classList.add("particle", "dot");
                dot.style.top = Math.random() * 100 + "%";
                dot.style.left = Math.random() * 100 + "%";
                dot.style.background = `hsl(${Math.random() * 360},80%,70%)`;
                dot.style.animationDuration = 1 + Math.random() * 2 + "s";
                page.appendChild(dot);
                particles.push(dot);
            }

            for (let i = 0; i < 50; i++) {
                const star = document.createElement("div");
                star.classList.add("particle", "star");
                star.style.top = Math.random() * 100 + "%";
                star.style.left = Math.random() * 100 + "%";
                star.style.background = `hsl(${Math.random() * 360},80%,70%)`;
                star.style.animationDuration = 2 + Math.random() * 2 + "s";
                page.appendChild(star);
                particles.push(star);
            }
            for (let i = 0; i < 5; i++) {
                const heart = document.createElement("div");
                heart.classList.add("particle", "heart");
                heart.style.top = Math.random() * 100 + "%";
                heart.style.left = Math.random() * 100 + "%";
                heart.style.background = `hsl(${Math.random() * 360},80%,70%)`;
                heart.style.animationDuration = 2 + Math.random() * 2 + "s";
                page.appendChild(heart);
                particles.push(heart);
            }
        }
        createParticles();
        setInterval(createParticles, 10000);

        function shootingStar() {
            const star = document.createElement("div");
            star.classList.add("particle", "star");
            star.style.top = Math.random() * 50 + "%";
            star.style.left = "-10%";
            star.style.width = "12px";
            star.style.height = "12px";
            star.style.background = `hsl(${Math.random() * 360},80%,80%)`;
            star.style.transition = "transform 2s linear";
            page.appendChild(star);
            setTimeout(() => {
                star.style.transform = "translateX(120vw) translateY(40vh)";
            }, 50);
            setTimeout(() => page.removeChild(star), 2100);
        }
        setInterval(shootingStar, 5000);

        // Reveal letters with sparkles
        function revealLetter(letter) {
            const span = document.createElement("span");
            span.textContent = letter;
            span.classList.add("letter-pop");
            textEl.appendChild(span);
            textEl.appendChild(cursor);
        }

        // ðŸŽ¤ VOICE MODE ONLY
        const voiceBtn = document.getElementById("voiceBtn");
        let recognition;
        function initVoice() {
            const SpeechRecognition =
                window.SpeechRecognition || window.webkitSpeechRecognition;

            if (!SpeechRecognition) {
                alert("Speech Recognition not supported. Use Chrome.");
                return null;
            }

            const recog = new SpeechRecognition();

            // ðŸ”¥ PRO SETTINGS
            recog.lang = "en-IN"; // Hindi + English mix
            recog.continuous = true; // NEVER stop listening
            recog.interimResults = true; // Live typing

            let finalTranscript = "";

            recog.onstart = () => {
                voiceBtn.style.background = "red";
                voiceBtn.textContent = "ðŸŽ™ï¸";
            };

            recog.onresult = (event) => {
                let interimTranscript = "";

                for (let i = event.resultIndex; i < event.results.length; ++i) {
                    let transcript = event.results[i][0].transcript.toUpperCase();

                    if (event.results[i].isFinal) {
                        finalTranscript += transcript;

                        handleVoiceCommands(transcript);
                    } else {
                        interimTranscript += transcript;
                    }
                }
            };
            function handleVoiceCommands(spokenText) {
                spokenText = spokenText.trim();

                // ðŸ”¥ COMMANDS
                if (spokenText.includes("DELETE")) {
                    const spans = textEl.querySelectorAll("span");
                    if (spans.length > 0) textEl.removeChild(spans[spans.length - 1]);
                    return;
                }

                if (spokenText.includes("CLEAR")) {
                    textEl.innerHTML = "";
                    textEl.appendChild(cursor);
                    return;
                }

                if (
                    spokenText.includes("ENTER") ||
                    spokenText.includes("LINE") ||
                    spokenText.includes("INTER")
                ) {
                    const br = document.createElement("br");
                    textEl.appendChild(br);
                    textEl.appendChild(cursor);
                    return;
                }

                if (spokenText.includes("SPACE")) {
                    revealLetter(" ");
                    return;
                }

                // ðŸ”¥ WRITE INDIVIDUAL LETTERS OR WORDS
                for (let char of spokenText.replace(/\s+/g, "")) {
                    // Remove spaces to handle continuous letters
                    if (/[A-Z]/.test(char)) {
                        revealLetter(char);
                    }
                }
            }
            // ðŸ”¥ AUTO RESTART â€” TRUE ALWAYS LISTENING
            recog.onend = () => {
                try {
                    recog.start();
                } catch (e) { }
            };

            return recog;
        }
        voiceBtn.onclick = async () => {
            if (!recognition) recognition = initVoice();

            try {
                await navigator.mediaDevices.getUserMedia({ audio: true });
                recognition.start();
            } catch {
                alert("Please allow microphone access");
            }
        };
    </script>
</body>

</html>
